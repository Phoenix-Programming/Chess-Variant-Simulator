@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;

.modal-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, 0.6);
	backdrop-filter: blur(3px);
	@include flex-center;
	z-index: 1000;
	opacity: 1;
	visibility: visible;
	transition: opacity $transition-fast, visibility $transition-fast;
	animation: modalFadeIn $transition-fast ease-out;

	animation: modalFadeIn $transition-fast ease-out;

	.modal {
		background-color: $bg-alt;
		border: 1px solid $border-primary;
		border-radius: $border-radius-md;
		max-width: 500px;
		width: 90%;
		max-height: 80vh;
		overflow-y: auto;
		box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
		transform: scale(1) translateY(0);
		transition: transform $transition-fast;
		animation: modalSlideIn $transition-fast ease-out;

		&.modal--sm { max-width: 300px; }

		&.modal--lg { max-width: 800px; }

		&.modal--xl { max-width: 1200px; }

		// full screen modal (for mobile)
		@include respond(sm) {
			&.modal-fullscreen {
				width: 100%;
				height: 100%;
				max-width: 100%;
				max-height: 100%;
				border-radius: 0;
				margin: 0;
			}
		}
	}

	.modal-header {
		@include flex-between;
		align-items: center;
		padding: $spacing-md $spacing-lg;
		border-bottom: 1px solid $border-primary;

		h1, h2, h3, h4, h5, h6 {
			margin: 0;
			color: $text-primary;
		}

		.modal-close {
			background: none;
			border: none;
			color: $text-secondary;
			cursor: pointer;
			padding: $spacing-sm;
			border-radius: $border-radius-sm;
			transition: all $transition-super-fast;
			width: 2rem;
			height: 2rem;
			display: flex;
			align-items: center;
			justify-content: center;

			img {
				width: 1.25rem;
				height: 1.25rem;
				opacity: 0.7;
				transition: all $transition-super-fast;
			}

			&:hover {
				background-color: rgba($danger, 0.1);

				img {
					opacity: 1;
					filter: $danger-filter;
				}
			}
		}
	}

	.modal-body {
		padding: $spacing-lg;
		color: $text-secondary;
	}

	.modal-footer {
		@include flex-gap($spacing-sm);
		justify-content: flex-end;
		padding: $spacing-md $spacing-lg;
		border-top: 1px solid $border-primary;
	}
}

// Modal animations
@keyframes modalFadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}

@keyframes modalSlideIn {
	from {
		transform: scale(0.9) translateY(-20px);
		opacity: 0;
	}
	to {
		transform: scale(1) translateY(0);
		opacity: 1;
	}
}
