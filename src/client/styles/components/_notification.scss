@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;

@mixin _notification-type($color) {
	border-left: 4px solid $color;

	.notification-icon { color: $color; }
}

.notification-container {
	position: fixed;
	top: $spacing-lg;
	right: $spacing-lg;
	z-index: 1050;
	width: 350px;
}

.notification {
	background-color: $bg-alt;
	border: 1px solid $border-primary;
	border-radius: $border-radius-md;
	margin-bottom: $spacing-md;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	transform: translateX(100%);
	opacity: 0;
	transition: opacity 0.3s ease, transform 0.3s ease;
	animation: _slideInNotification 0.3s ease forwards;
	width: 100%;
	min-height: auto;

	&.notification--success { @include _notification-type($success); }

	&.notification--danger { @include _notification-type($danger); }

	&.notification--warning { @include _notification-type($warning); }

	&.notification--info { @include _notification-type($primary); }

	&.notification-closing { animation: _slideOutNotification 0.3s ease forwards !important; }

	.notification-content {
		@include flex-gap($spacing-sm);
		padding: $spacing-md;

		.notification-icon {
			font-size: 1.25rem;
			flex-shrink: 0;
			display: flex;
			align-items: center;
			justify-content: center;

			img {
				width: 1.25rem;
				height: 1.25rem;
			}

			&--success { filter: $success-filter; }

			&--warning { filter: $warning-filter; }

			&--error { filter: $danger-filter; }

			&--info { filter: $primary-filter; }
		}

		.notification-body {
			flex: 1;
			min-width: 0; // Allows flex item to shrink below content size
			word-wrap: break-word;
			overflow-wrap: break-word;

			.notification-title {
				font-weight: $font-weight-medium;
				color: $text-primary;
				margin-bottom: $spacing-sm * 0.5;
				word-wrap: break-word;
			}

			.notification-message {
				color: $text-secondary;
				font-size: $font-size-sm;
				word-wrap: break-word;
				line-height: 1.4;
			}
		}

		.notification-close {
			background: none;
			border: none;
			color: $text-tertiary;
			cursor: pointer;
			padding: 0;
			width: 1.5rem;
			height: 1.5rem;
			display: flex;
			align-items: center;
			justify-content: center;

			img {
				width: 1rem;
				height: 1rem;
				opacity: 0.7;
				transition: opacity $transition-fast;
			}

			&:hover img { opacity: 1; }
		}
	}
}

@keyframes _slideInNotification {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes _slideOutNotification {
	from {
		transform: translateX(0);
		opacity: 1;
	}
	to {
		transform: translateX(100%);
		opacity: 0;
	}
}
